%********* Multiple UAVs path planning using PSO
%Nr_d=2;  % the number of UAV=2
%SAI=10*ones(10);
SAI=[1 1 1 7 8 1 1 1 10 1 1 1 1 7 8 1 1 1 1 1;
    1 2 1 1 7 7 5 1 1 1 1 2 1 1 7 7 5 1 1 1;
    7 8 1 1 5 1 1 1 1 1 7 8 1 1 5 1 1 1 10 1;
    5 6 1 2 2 8 7 7 1 8 5 1 1 2 2 8 7 7 9 8;
    9 1 1 8 4 1 1 8 7 1 9 1 1 8 4 1 1 8 7 1;
    1 4 5 7 1 1 2 7 7 7 1 4 5 7 1 1 2 7 7 7;
    5 4 7 8 1 1 2 5 4 3 5 4 7 8 1 1 2 5 4 3;
    4 1 1 5 2 1 4 3 1 1 4 1 1 5 2 1 4 3 6 7;
    6 5 1 4 1 1 7 5 3 6 6 5 1 4 1 1 7 5 9 9;
    7 6 1 1 5 1 10 4 7 8 7 6 1 1 7 1 10 4 7 8; 
    1 10 1 7 8 1 1 1 1 1 1 1 1 7 8 1 1 1 1 1;
    1 2 1 1 7 7 5 1 1 1 1 2 1 1 7 7 5 1 8 1;
    7 8 1 1 5 1 1 1 1 1 7 8 1 1 5 1 1 10 1 1;
    5 6 1 2 2 8 7 7 9 8 5 6 1 2 2 8 7 7 9 8;
    9 1 1 8 9 1 1 8 7 1 9 1 1 8 4 1 1 8 7 1;
    1 4 5 7 1 1 2 7 7 7 1 4 5 7 1 1 2 7 7 7;
    5 4 7 8 1 1 2 5 4 3 5 4 7 8 1 1 2 5 4 3;
    4 8 8 5 2 1 4 3 6 7 4 8 8 5 2 1 4 3 6 7;
    6 5 1 4 1 1 7 5 9 9 6 5 1 4 1 1 7 5 9 9;
    7 6 1 1 10 1 10 4 7 8 7 6 1 1 10 1 10 4 7 8];
% finding path for each UAV
ht1=-1;
while ht1<0
    [bestpath1,pbest1,ec1,fr1,sai1]=pso(SAI);
     ht1=pbest1(1);
end